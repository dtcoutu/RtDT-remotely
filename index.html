<!doctype html>
<html>

<head>
  <link rel="stylesheet" href="main.css" />
  <title>Return to Dark Tower...Remotely</title>
</head>

<body>
  <section id="header">
    <details id="help">
      <summary>Help</summary>
      <ul class="help-list">
        <li><a href="help/usage.html" target="_blank">How to use this app?</a></li>
        <li><a href="help/summary.html" target="_blank">Card summaries</a></li>
        <li><a href="https://boardgamegeek.com/boardgame/256680/return-to-dark-tower" target="_blank">Board Game Geek
            entry</a></li>
      </ul>
      <div>Made with love, but not an official <a href="https://restorationgames.com/" target="_blank">Restoration
          Games</a> production.</div>
    </details>
    <details id="setup" open>
      <summary>Setup</summary>
      <section id="setup-container">
        <section id="base-setup">
          <section id="character-setup">
            <label>
              Choose a <a href="help/heroes.html" target="_blank">hero</a>:
              <select name="hero" id="hero-selector" data-action="select">
                <option value="">---</option>
              </select>
            </label>
          </section>

          <section id="region-setup">
            <label>
              Choose your home kingdom:
              <select name="kingdom" id="kingdom-selector" data-action="select">
                <option value="">---</option>
              </select>
            </label>
          </section>

          <section id="expansion-options">
            <label>
              Choose an expansion or "Neither":
              <select id="expansion-selector" data-action="select">
                <option value="" selected="true">---</option>
                <option value="none">Neither</option>
                <option value="alliances">Alliances</option>
                <option value="covenant">Covenant</option>
              </select>
            </label>
          </section>
        </section>

        <section id="enemy-selectors">
          <a href="help/enemies.html" target="_blank">Enemies</a>:
          <div>
            <label>
              Adversary:
              <select id="enemy-selector-level-5" class="enemy-selector" data-action="select" data-level="5">
                <option value="" selected>---</option>
                <option value="ashstrider">Ashstrider</option>
                <option value="bane_of_omens">Bane of Omens</option>
                <option value="empress_of_shades">Empress of Shades</option>
                <option value="gaze_eternal">Gaze Eternal</option>
                <option value="gravemaw">Gravemaw</option>
                <option value="isa_the_exile">Isa the Exile</option>
                <option value="lingering_rot">Lingering Rot</option>
                <option value="utuk_ku_the_ice_herald">Utuk-Ku the Ice Herald</option>
              </select>
            </label>
          </div>
          <div>
            <label>
              Level 2:
              <select id="enemy-selector-level-2" class="enemy-selector" data-action="select" data-level="2">
                <option value="">---</option>
                <option value="brigands">Brigands</option>
                <option value="oreks">Oreks</option>
                <option value="shadow_wolves">Shadow Wolves</option>
                <option value="spine_fiend">Spine Fiend</option>
              </select>
            </label>
          </div>
          <div>
            <label>
              Level 3:
              <select id="enemy-selector-level-3" class="enemy-selector" data-action="select" data-level="3">
                <option value="">---</option>
                <option value="clan_of_neuri">Clan of Neuri</option>
                <option value="frost_troll">Frost Troll</option>
                <option value="lemure">Lemure</option>
                <option value="widowmade_spider">Widowmade Spider</option>
              </select>
            </label>
          </div>
          <div>
            <label>
              Level 4:
              <select id="enemy-selector-level-4" class="enemy-selector" data-action="select" data-level="4">
                <option value="">---</option>
                <option value="dragon">Dragon</option>
                <option value="mormo">Mormo</option>
                <option value="striga">Striga</option>
                <option value="titan">Titan</option>
              </select>
            </label>
          </div>
        </section>

        <section id="expansion-setup" class="hidden">
        </section>
      </section>
    </details>

    <section id="game-initializers">
      <button data-action="start">Start</button>
      <button data-action="reset">Reset</button>
    </section>
  </section>

  <section id="main-content">
    <div id="hero-background">
      <h2 id="hero-name" class="hidden"></h2>
    </div>

    <details id="actions" class="hidden" open>
      <summary>Actions</summary>
      <div id="actions-display">
        <div id="start-of-turn">
          <h3>Start of Turn</h3>
          <div>
            <img src="icons/banner.png" class="image-with-text" title="banner" alt="banner" width="25" height="40" />
            <span class="name">Banner</span>
          </div>
          <div id="banner-description"></div>
        </div>
        <div id="middle-of-turn">
          <h3>Middle of Turn</h3>
          <div id="move">
            <div>
              <img src="icons/move.png" class="image-with-text" title="move" alt="move" width="40" height="40" />
              <span class="name">Move <span id="movement"></span></span> (Split as Needed)
            </div>
            <div>Spend 1 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20" height="22" /> to double
              your
              move</div>
          </div>
          <div id="heroic-action">
            <h4>Heroic Action</h4>
            <div class="choose-one">Choose One</div>
            <ul>
              <li class="action">
                <div>
                  <img src="icons/cleanse.png" title="Cleanse" alt="Cleanse" width="50%" />
                  Cleanse
                </div>
                <span>Remove all skulls from your space</span>
              </li>
              <li class="action">
                <div><img src="icons/battle.png" title="Battle" alt="Battle" width="50%" />
                  <div>Battle</div>
                </div>
                <div><span>Battle a foe on your space</span></div>
              </li>
              <li class="action">
                <div><img src="icons/quest.png" title="Quest" alt="Quest" width="50%" />
                  <div>Quest</div>
                </div>
                <div><span>Complete a quest or explore a dungeon</span></div>
              </li>
              <li id="alliances-heroic-action" class="action hidden">
                <div><img src="icons/influence-action.png" title="Influence" alt="Influence" width="50%" />
                  <div>Influence</div>
                </div>
                <div><span>When at a Guild Hall gain 2 <img src="icons/influence.png" title="influence" alt="influence"
                      width="24" height="24"></span></div>
              </li>
              <li id="covenant-heroic-action" class="action hidden">
                <div>
                  <div>Build</div>
                </div>
                <div><span>Spend 3 offering tokens from the
                    foundation to complete the monument. (Be sure to indicate this in the app.)</span></div>
              </li>
            </ul>
            <div class="after">Gain 2 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20" height="22" />
              after</div>
          </div>
          <div id="reinforce">
            <h4><img src="icons/reinforce.png" class="image-with-text" title="reinforce" alt="reinforce"
                width="20px" />Reinforce</h4>
            <div class="choose-one">Choose One</div>
            <ul>
              <li class="action">
                <div>
                  <img src="icons/citadel.png" title="Citadel" alt="Citadel" />
                  <div>Citadel</div>
                </div>
                <div>
                  <ul>
                    <li class="sub-action">
                      <div><strong>Free:</strong></div>
                      <div>Gain 1 potion</div>
                    </li>
                    <li class="sub-action">
                      <div>
                        <strong>5 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20"
                            height="22" />:</strong>
                      </div>
                      <div>Gain 1 virtue</div>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="action">
                <div>
                  <img src="icons/sanctuary.png" title="Sanctuary" alt="Sanctuary" />
                  <div>Sanctuary</div>
                </div>
                <div>
                  <ul>
                    <li class="sub-action">
                      <div><strong>Free:</strong></div>
                      <div>Gain 1 spirit</div>
                    </li>
                    <li class="sub-action">
                      <div><strong>5 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20"
                            height="22" />:</strong></div>
                      <div>Remove all your corruptions</div>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="action">
                <div>
                  <img src="icons/village.png" title="Village" alt="Village" />
                  <div>Village</div>
                </div>
                <div>
                  <ul>
                    <li class="sub-action">
                      <div><strong>Free:</strong></div>
                      <div>Gain 6 <img src="icons/warrior.png" title="warrior" alt="warrior" width="22" height="22" />
                      </div>
                    </li>
                    <li class="sub-action">
                      <div><strong>1 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20"
                            height="22" />:</strong></div>
                      <div>Gain 12 <img src="icons/warrior.png" title="warrior" alt="warrior" width="22" height="22" />
                      </div>
                    </li>
                  </ul>
                </div>
              </li>
              <li class="action">
                <div>
                  <img src="icons/bazaar.png" title="Bazaar" alt="Bazaar" />
                  <div>Bazaar</div>
                </div>
                <div>
                  <ul>
                    <li class="sub-action">
                      <div><strong>Free:</strong></div>
                      <div>Gain 1 gear</div>
                    </li>
                    <li class="sub-action">
                      <div><strong>2 <img src="icons/spirit.png" title="spirit" alt="spirit" width="20"
                            height="22" />:</strong></div>
                      <div>Gain 1 treasure</div>
                    </li>
                  </ul>
                </div>
              </li>
              <li id="alliances-reinforcement-action" class="action hidden">
                <div>
                  <div>Guild Hall</div>
                </div>
                <div>
                  <ul>
                    <li>
                      <div><strong>5 <img src="icons/influence.png" title="influence" alt="influence" width="24"
                            height="24">:</strong></div>
                      <div>Gain 1 level in corresponding Guild</div>
                    </li>
                  </ul>
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div id="end-of-turn">
          <h3>End of Turn</h3>
          <span class="action-description">Drop 1 skull into the Tower</span>
          <details>
            <summary>Skull Types</summary>
            <ul class="help-list">
              <li><span>White</span> - None</li>
              <li><span style="color: limegreen">Blight</span> - Lose <strong>1 item</strong> when entering a space with
                one.</li>
              <li><span style="color: purple">Omen</span> - Lose <strong>1 influence</strong> when entering a space with
                one.</li>
              <li><span style="color: red">Fire</span> - Lose <strong>4 warriors</strong> when entering a space with
                one.</li>
              <li><span style="color: lightblue">Frost</span> - Lose <strong>1 spirit</strong> when entering a space
                with one.</li>
              <li><span>Doom</span> - Cannot be cleansed.</li>
            </ul>
          </details>
        </div>
      </div>
    </details>

    <div id="trackers">
      <section id="counters" class="hidden">
        <div id="warriors" class="counter" data-counter="warrior">
          <div>
            <img src="icons/warrior.png" title="warrior" alt="warrior" width="22" height="22" />:
            <span id="warrior-counter" class="counter"></span>
          </div>
          <button data-action="update-counter" data-amount="-5">-5</button>
          <button data-action="update-counter" data-amount="-1">-1</button>
          <button data-action="update-counter" data-amount="1">+1</button>
          <button data-action="update-counter" data-amount="6" class="strong">+6</button>
        </div>
        <div id="spirit" class="counter" data-counter="spirit">
          <div>
            <img src="icons/spirit.png" title="spirit" alt="spirit" width="20" height="22" />:
            <span id="spirit-counter" class="counter"></span>
          </div>
          <button data-action="update-counter" data-amount="-5">-5</button>
          <button data-action="update-counter" data-amount="-1">-1</button>
          <button data-action="update-counter" data-amount="1">+1</button>
          <button data-action="update-counter" data-amount="5">+5</button>
        </div>
        <div id="blessing" class="counter" data-counter="blessing">
          <strong>Blessings:</strong> <span id="blessing-counter" class="counter" data-counter="blessing"></span>
          <button data-action="update-counter" data-amount="-1">-1</button>
          <button data-action="update-counter" data-amount="1">+1</button>
          <div>Spend during a Heroic action for +1 Wild. Lose at the end of your turn.</div>
        </div>
      </section>

      <section id="advantages" class="hidden">
        <h3>Advantages</h3>
        <div id="advantages-wrapper">
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="BEAST" />
            <span class="advantage">BEAST: </span>
            <span id="beast-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="HUMANOID" />
            <span class="advantage">HUMANOID: </span>
            <span id="humanoid-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="MAGIC" />
            <span class="advantage">MAGIC: </span>
            <span id="magic-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="MELEE" />
            <span class="advantage">MELEE: </span>
            <span id="melee-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="STEALTH" />
            <span class="advantage">STEALTH: </span>
            <span id="stealth-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="UNDEAD" />
            <span class="advantage">UNDEAD: </span>
            <span id="undead-counter" class="counter"></span>
          </div>
          <div>
            <img src="icons/advantage.png" title="advantage" alt="advantage" width="20" height="20"
              data-action="highlight" data-type="Wild" />
            <span class="advantage">Wild: </span>
            <span id="wild-counter" class="counter"></span>
          </div>
        </div>
        <div>
          <span data-action="highlight" data-type="endOfTurn">End of Turn Reminders</span>
        </div>
        <div>
          <span data-action="highlight" data-type="endOfMonth">End of Month Reminders</span>
        </div>
      </section>

      <section id="enemies" class="hidden">
      </section>
    </div>

    <details id="virtues" class="hidden" open>
      <summary>Virtues</summary>
      <div id="virtues-container">
        <div id="virtue-base-virtue-1" class="virtue">
          <div id="base-virtue-1-name" class="name"></div>
          <div id="base-virtue-1-description" class="description"></div>
        </div>
        <div id="virtue-base-virtue-2" class="virtue">
          <div id="base-virtue-2-name" class="name"></div>
          <div id="base-virtue-2-description" class="description"></div>
        </div>
        <div id="virtue-champion-virtue" class="virtue">
        </div>
        <div id="virtue-additional-virtue-1" class="virtue">
          <button id="buy-additional-virtue-1" value="additional-virtue-1" data-action="toggle">Buy</button>
          <div id="additional-virtue-1-name" class="name"></div>
          <div id="additional-virtue-1-description" class="description"></div>
        </div>
        <div id="virtue-additional-virtue-2" class="virtue">
          <button id="buy-additional-virtue-2" value="additional-virtue-2" data-action="toggle">Buy</button>
          <div id="additional-virtue-2-name" class="name"></div>
          <div id="additional-virtue-2-description" class="description"></div>
        </div>
        <div id="virtue-additional-virtue-3" class="virtue">
          <button id="buy-additional-virtue-3" value="additional-virtue-3" data-action="toggle">Buy</button>
          <div id="additional-virtue-3-name" class="name"></div>
          <div id="additional-virtue-3-description" class="description"></div>
        </div>
      </div>
    </details>

    <details id="cards-spells" class="hidden" open>
      <summary>Spells</summary>
      <section id="spell-cards" data-type="spell">
        <button id="spell-select" data-action="select">Select Spell</button>
        <select id="spell-selector" class="hidden"></select>
        <button id="spell-add" class="hidden" data-action="add">Add</button>
        <ul id="spell-list">
        </ul>
      </section>
    </details>

    <section id="expansion-details" class="hidden">
    </section>

    <section id="cards" class="hidden">
      <section id="treasure-cards" data-type="treasure">
        <h2>Treasure (default max of 4)</h2>
        <button id="treasure-select" data-action="select">Select Treasure</button>
        <select id="treasure-selector" class="hidden"></select>
        <button id="treasure-add" class="hidden" data-action="add">Add</button>
        <ul id="treasure-list" class="card-list">
        </ul>
      </section>
      <section id="gear-cards" data-type="gear">
        <h2>Gear</h2>
        <button id="gear-select" data-action="select">Select Gear</button>
        <select id="gear-selector" class="hidden"></select>
        <button id="gear-add" class="hidden" data-action="add">Add</button>
        <ul id="gear-list" class="card-list">
        </ul>
      </section>
      <section id="companion-cards" data-type="companion">
        <h2>Companions</h2>
        <button id="companion-select" data-action="select">Select Companion</button>
        <select id="companion-selector" class="hidden"></select>
        <button id="companion-add" class="hidden" data-action="add">Add</button>
        <ul id="companion-list" class="card-list">
        </ul>
      </section>
      <section id="potion-cards" data-type="potion">
        <h2>Potions</h2>
        <button id="potion-select" data-action="select">Select Potion</button>
        <select id="potion-selector" class="hidden"></select>
        <button id="potion-add" class="hidden" data-action="add">Add</button>
        <ul id="potion-list" class="card-list">
        </ul>
      </section>
    </section>
  </section>

  <aside id="alliance-companion-modal" class="modal">
    <strong>The rank of the <span id="alliance-companion-guild"></span> guild has increased.</strong>
    <br>Did you get a companion for that?
    <br><i>Don't forget to update the app with the new companion as well.</i>

    <div>
      <select id="alliance-companion-selector"></select>
      <button id="alliance-companion-add" data-action="add">Add</button>
    </div>

    <button id="alliance-companion-modal-close" data-action="close">Close</button>
  </aside>

  <script type="module">
    import { setup, pageUpdate } from "./main.js";

    function onLoad() {
      setup();
      pageUpdate();
    }

    window.onload = onLoad();
  </script>
</body>

</html>
